classDiagram
    class User {
        +String id
        +String username
        +String email
        +String password
        +UserRole role
        +boolean enabled
    }

    class UserRole {
        <<enumeration>>
        PARTICIPANT
        ORGANIZER
    }

    class Event {
        +String id
        +String title
        +String description
        +LocalDateTime startDate
        +LocalDateTime endDate
        +EventStatus status
        +int maxParticipants
        +List~Registration~ registrations
        +List~Team~ teams
    }

    class EventStatus {
        <<enumeration>>
        UPCOMING
        ONGOING
        COMPLETED
    }

    class Registration {
        +String id
        +User user
        +Event event
        +RegistrationStatus status
        +LocalDateTime registrationDate
    }

    class RegistrationStatus {
        <<enumeration>>
        PENDING
        APPROVED
        REJECTED
    }

    class Team {
        +String id
        +String name
        +String shortCode
        +Event event
        +List~TeamMember~ members
        +String submissionUrl
        +LocalDateTime submissionTime
        +Map~String, Double~ evaluationResults
    }

    class TeamMember {
        +String id
        +String userId
        +Team team
        +TeamRole role
        +TeamMemberStatus status
    }

    class TeamRole {
        <<enumeration>>
        LEADER
        MEMBER
    }

    class TeamMemberStatus {
        <<enumeration>>
        PENDING
        ACCEPTED
        DECLINED
    }

    class CommonClient {
        +getUuid() String
    }

    class NotificationClient {
        +sendEmail(to, template, vars)
        +validateOtp(email, otp) boolean
    }

    class AuthService {
        -UserRepository userRepository
        -CommonClient commonClient
        -NotificationClient notificationClient
        +register(User)
        +login(Credentials)
        +upgradeToOrganizer(userId)
    }

    class EventService {
        -EventRepository eventRepository
        -CommonClient commonClient
        -NotificationClient notificationClient
        +createEvent(EventRequest)
        +getEvents()
    }

    class TeamService {
        -TeamRepository teamRepository
        -CommonClient commonClient
        -NotificationClient notificationClient
        +createTeam(TeamCreateRequest)
        +submitProject(TeamSubmissionRequest)
    }

    class MissionNotificationService {
        -NotificationClient notificationClient
        +sendEventStatusAlert(Event, status)
    }

    AuthService --> UserRole
    AuthService --> CommonClient
    AuthService --> NotificationClient
    
    EventService --> EventStatus
    EventService --> CommonClient
    EventService --> NotificationClient
    
    TeamService --> TeamRole
    TeamService --> TeamMemberStatus
    TeamService --> CommonClient
    TeamService --> NotificationClient
    
    MissionNotificationService --> NotificationClient
    
    User "1" *-- "1" UserRole
    Event "1" *-- "many" Registration
    Event "1" *-- "many" Team
    Registration "1" *-- "1" RegistrationStatus
    Team "1" *-- "many" TeamMember
    TeamMember "1" *-- "1" TeamRole
    TeamMember "1" *-- "1" TeamMemberStatus